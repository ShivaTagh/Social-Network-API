var expect = require('chai').expect;
var assert = require('chai').assert;
var should = require('chai').should();

var Types = require('./../lib/Type');
var TARGET_DB = 'test-service';
var appdata = require('./../index');
var store = null;
var service = null;

describe('AppData', function() {

    beforeEach('connect and clean the database', function() {
        store = appdata.connect(TARGET_DB, {
            autosync: false // disable fs-sync for testing
        });
    });

    describe('new Service()', function() {
        it('should create a new service instance', function() {
            service = new appdata.Service();
            store.service(service);
            assert.equal(service.type, Types.Service);
        });
    });
});
